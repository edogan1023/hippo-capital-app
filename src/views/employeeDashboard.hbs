<script src="/javascripts/employeeDashboard.js" defer></script>

<div class="flex flex-col min-h-screen">
    <header class = "bg-logo-navy h-[100px] min-w-[700px]">
        <div class="flex justify-between items-center w-5/7">
            <div class="flex-1 basis-[5%] max-w-[300px] min-w-[300px]">
                <img src="/images/hippo-logo.png" alt="Hippo Capital Logo" class="h-[100px]"/>
            </div>
            <div class="text-custom-gold text-2xl col-span-2 font-bold flex justify-center items-center min-w-[120px]">
                {{title}} <span class="font-normal capitalize">{{user.user_title}} {{user.first_name}} {{#if user.middle_name}}{{firstLetter user.middle_name}}. {{/if}}{{user.surname}}</span>
            </div>
            <a href = "/employeeDashboard" class = "flex-1 basis-[5%] max-w-[28px] min-w-[28px] flex justify-center-safe items-center transition duration-200 ease-in-out hover:scale-105">
                <img src="/images/home-icon.png" alt="Home" class="h-7 w-7"/>
            </a>
            <a href = "/employeeDashboard/createUser" class = "flex-1 basis-[5%] max-w-[120px] min-w-[110px] flex justify-center-safe items-center transition duration-200 ease-in-out hover:scale-105">
                <p class="m-[6px] text-center text-custom-gold hover:text-white">Create User</p>
            </a>
            <a href = "/" class = "flex-1 basis-[5%] max-w-[100px] min-w-[75px] flex justify-center-safe items-center transition duration-200 ease-in-out hover:scale-105">
                <p class="m-[6px] text-center text-custom-gold hover:text-white">Log off</p>
            </a>
        </div>
    </header>

    <div class="flex flex-col max-h-full p-6 bg-white">
        <h2 class="text-2xl font-bold mb-4 text-gray-800">Users</h2>

        <!-- Search Form -->
        <form id="userSearchForm" class="flex gap-2 mb-4">
            <input type="text" id="searchInput" name="search" placeholder="Search by first name or email..." class="border px-2 py-1 rounded w-64">
            <button type="submit" class="bg-logo-navy text-white px-4 py-1 rounded">Search</button>
        </form>

        <!-- Table -->
        <div class="overflow-x-auto shadow-md rounded-lg">
            <table class="min-w-full table-auto bg-white border border-gray-200 rounded-lg" id="usersTable">
                <thead class="bg-logo-navy text-white">
                <tr class="text-center">
                    <th class="px-4 py-2">Title</th>
                    <th class="px-4 py-2">Full Name</th>
                    <th class="px-4 py-2">Email</th>
                    <th class="px-4 py-2">Date of Birth</th>
                    <th class="px-4 py-2">Phone Number</th>
                    <th class="px-4 py-2">Mother's Maiden Name</th>
                    <th class="px-4 py-2">Status</th>
                    <th class="px-4 py-2">User ID</th>
                </tr>
                </thead>
                <tbody id="usersTableBody">
                <!-- Rows added dynamically via JS -->
                </tbody>
            </table>
        </div>

        <!-- Load More Button -->
        <div class="flex justify-center mt-4">
            <button id="loadMoreBtn" data-offset="0" data-limit="20" class="bg-logo-navy hover:bg-logo-navy-hover text-white px-6 py-2 rounded-lg shadow-md">
                Load More
            </button>
        </div>
    </div>
</div>

{{> footer }}
