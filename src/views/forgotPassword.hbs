<script src="/javascripts/forgotPassword.js"></script>
<header class="bg-logo-navy h-[100px]">
    <div class="flex justify-between items-center w-1/2">
        <div class="flex-1 basis-[5%] max-w-[300px] min-w-[300px]">
            <img src="/images/hippo-logo.png" alt="Hippo Capital Logo" class="h-[100px]" />
        </div>

        <a href="/" class="flex-1 basis-[5%] max-w-[100px] min-w-[75px] flex justify-center-safe items-center border-2 border-custom-gold m-[5px] hover:bg-logo-navy-hover transition duration-200 ease-in-out hover:scale-105">
            <div>
                <p class="m-[6px] text-center text-custom-gold transition duration-200 ease-in-out hover:text-white">Home</p>
            </div>
        </a>

        <div class="w-[50px]"></div>

        <a href="/register" class="flex-1 basis-[5%] max-w-[100px] min-w-[75px] flex justify-center-safe items-center border-2 border-custom-gold m-[5px] hover:bg-logo-navy-hover transition duration-200 ease-in-out hover:scale-105">
            <div>
                <p class="m-[6px] text-center text-custom-gold transition duration-200 ease-in-out hover:text-white">Register</p>
            </div>
        </a>
    </div>
</header>

<div class="min-h-screen flex flex-col items-center justify-center bg-gray-50 px-4 py-12">
    <div class="w-full max-w-md space-y-6 bg-white p-8 rounded shadow-md">
        <h2 class="text-2xl font-semibold text-center text-logo-navy">Reset Your Password</h2>


        <form id="forgot-password-form" class="space-y-4" novalidate>
            <input type="hidden" name="preventDefault" value="1" />

            <!-- Identity Verification -->
            <div id="step-1" class="space-y-4">
                <div>
                    <label for="email" class="block text-sm font-medium text-gray-700">Email address</label>
                    <input type="email" id="email" required
                           class="mt-1 block w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-logo-navy" />
                </div>

                <div>
                    <label for="maidenName" class="block text-sm font-medium text-gray-700">Mother's Maiden Name</label>
                    <input type="text" id="maidenName" required
                           class="mt-1 block w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-logo-navy" />
                </div>

                <div>
                    <label for="securityWord" class="block text-sm font-medium text-gray-700">Security Word</label>
                    <input type="text" id="securityWord" required
                           class="mt-1 block w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-logo-navy" />
                </div>
            </div>

            <!-- Code Verification -->
            <div id="step-2" class="hidden space-y-4">
                <p class="text-sm text-gray-600">
                    A security code has been sent to your email. Please enter it below within 5 minutes.
                </p>

                <div>
                    <label for="securityCode" class="block text-sm font-medium text-gray-700">Security Code</label>
                    <input type="text" id="securityCode"
                           class="mt-1 block w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-logo-navy" />
                </div>

                <p id="timer" class="text-sm text-gray-700 font-medium text-center"></p>
                <p class="text-sm text-red-600 hidden" id="timeout-message">Invalid session: took too long. Please try again later.</p>
            </div>

            <!-- New Password -->
            <div id="step-3" class="hidden space-y-4">
                <div>
                    <label for="newPassword" class="block text-sm font-medium text-gray-700">New Password</label>
                    <div class="relative">
                        <input type="password" id="newPassword"
                               class="mt-1 block w-full border border-gray-300 rounded px-3 py-2 pr-10 focus:outline-none focus:ring-2 focus:ring-logo-navy" />
                        <button type="button" id="toggleNewPassword"
                                class="absolute right-2 top-1/2 -translate-y-1/2 text-sm text-gray-600 hover:text-logo-navy">
                            Show
                        </button>
                    </div>
                </div>

                <div>
                    <label for="confirmPassword" class="block text-sm font-medium text-gray-700">Confirm New Password</label>
                    <div class="relative">
                        <input type="password" id="confirmPassword"
                               class="mt-1 block w-full border border-gray-300 rounded px-3 py-2 pr-10 focus:outline-none focus:ring-2 focus:ring-logo-navy" />
                        <button type="button" id="toggleConfirmPassword"
                                class="absolute right-2 top-1/2 -translate-y-1/2 text-sm text-gray-600 hover:text-logo-navy">
                            Show
                        </button>
                    </div>
                </div>

                <ul class="text-sm text-gray-600 list-disc list-inside">
                    <li>At least 8 characters</li>
                    <li>Includes a capital letter</li>
                    <li>Includes a number</li>
                    <li>Includes a special character (!, ?, etc.)</li>
                </ul>
            </div>

            <button type="button" id="mainSubmit"
                    class="w-full bg-logo-navy text-white py-2 rounded hover:bg-logo-navy-hover transition">
                Continue
            </button>
        </form>
    </div>
</div>
